!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@ngrx/store"),require("tslib"),require("rxjs/operators"),require("rxjs"),require("@angular/router")):"function"==typeof define&&define.amd?define("@ngrx-utils/store",["exports","@angular/core","@ngrx/store","tslib","rxjs/operators","rxjs","@angular/router"],e):e((t["ngrx-utils"]=t["ngrx-utils"]||{},t["ngrx-utils"].store={}),t.ng.core,t.ngrx.store,t.tslib,t.Rx.Observable.prototype,t.rxjs,t.ng.router)}(this,function(t,r,e,s,u,o,i){"use strict";var c=function(){function e(){}return e.prototype.connect=function(t){e.store=t},e}();c.store=null,c.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],c.ngInjectableDef=r.defineInjectable({factory:function(){return new c},token:c,providedIn:"root"});var n=function(t,e){null===c.store&&t.connect(e)};function a(e,t){t.forEach(function(t){if("object"!=typeof t||"object"==typeof t&&!("type"in t))throw new TypeError("Unexpected action in method return type, expected object of type 'Action'");e.dispatch(t)})}n.decorators=[{type:r.NgModule}],n.ctorParameters=function(){return[{type:c},{type:e.Store}]};var p=function(){this.$implicit=null,this.ngLet=null},l=function(){function t(t,e){this._vcr=t,this._templateRef=e,this._context=new p}return Object.defineProperty(t.prototype,"ngLet",{set:function(t){this._context.$implicit=this._context.ngLet=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._vcr.createEmbeddedView(this._templateRef,this._context)},t}();l.decorators=[{type:r.Directive,args:[{selector:"[ngLet]"}]}],l.ctorParameters=function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef}]},l.propDecorators={ngLet:[{type:r.Input}]};var f=function(){};f.decorators=[{type:r.NgModule,args:[{declarations:[l],exports:[l]}]}];var h=Symbol("destroy$"),d=function(t){var r;return t[h]===undefined&&((r=t)[h]=new o.Observable(function(t){var e=r.ngOnDestroy;if(null==e)throw new Error("untilDestroy operator needs the component to have an ngOnDestroy method");return r.ngOnDestroy=function(){t.next(),t.complete(),e.call(r)},function(t){return r[h]=undefined}})),u.takeUntil(t[h])};var y=function(){function t(t,e,r){var n=this;this._renderer=e,this._ngEl=r,this._onChangesHook=new o.Subject,o.combineLatest(t.events,this._onChangesHook).pipe(u.map(function(t){return s.__read(t,1)[0]}),u.filter(function(t){return t instanceof i.NavigationEnd}),d(this)).subscribe(function(t){n._curRoute=t.urlAfterRedirects,n._updateClass(n._matchExp)})}return Object.defineProperty(t.prototype,"routerLinkMatch",{set:function(t){if(!t||"object"!=typeof t)throw new TypeError("Unexpected type '"+typeof t+"' of value for input of routerLinkMatch directive, expected 'object'");this._matchExp=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){t.routerLinkMatch&&this._onChangesHook.next(t.routerLinkMatch.currentValue)},t.prototype._updateClass=function(r){var n=this;Object.keys(r).forEach(function(t){if(!r[t]||"string"!=typeof r[t])throw new TypeError("Could not convert match value to Regular Expression. Unexpected type '"+typeof r[t]+"' for value of key '"+t+"' in routerLinkMatch directive match expression, expected 'non-empty string'");var e=new RegExp(r[t]);n._curRoute.match(e)?n._toggleClass(t,!0):n._toggleClass(t,!1)})},t.prototype._toggleClass=function(t,e){var r=this;(t=t.trim()).split(/\s+/g).forEach(function(t){e?r._renderer.addClass(r._ngEl.nativeElement,t):r._renderer.removeClass(r._ngEl.nativeElement,t)})},t.prototype.ngOnDestroy=function(){},t}();y.decorators=[{type:r.Directive,args:[{selector:"[routerLinkMatch]"}]}],y.ctorParameters=function(){return[{type:i.Router},{type:r.Renderer2},{type:r.ElementRef}]},y.propDecorators={routerLinkMatch:[{type:r.Input,args:["routerLinkMatch"]}]};var g=function(){};function _(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+r.ɵstringify(t)+"'")}g.decorators=[{type:r.NgModule,args:[{declarations:[y],exports:[y]}]}];var b=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t}(),v=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t}()),x=new b,m=function(){function e(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return e.prototype.transform=function(t){return null===this._obj?(null!=t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue):t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue))},e.prototype.ngOnDestroy=function(){null!==this._subscription&&this._dispose()},e.prototype._subscribe=function(e){var r=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(t){return r._updateLatestValue(e,t)})},e.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},e.prototype._selectStrategy=function(t){if(r.ɵisPromise(t))return v;if(r.ɵisObservable(t))return x;throw _(e,t)},e.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.detectChanges())},e}();m.decorators=[{type:r.Pipe,args:[{name:"push",pure:!1}]}],m.ctorParameters=function(){return[{type:r.ChangeDetectorRef}]};var w=function(){};w.decorators=[{type:r.NgModule,args:[{exports:[m],declarations:[m]}]}],t.NgrxSelectModule=n,t.ɵNgrxSelect=c,t.Dispatch=function(){return function(t,e,r){var o=r.value;if("function"!=typeof o)throw new TypeError("Unexpected type "+typeof o+" of property "+e+", expected 'function'");return r.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=c.store;if(null===r)throw new Error("NgrxSelect not connected to store!");var n=o.apply(this,t);return Array.isArray(n)?a(r,n):a(r,[n]),n},r}},t.dispatch=a,t.Pluck=function(o){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(t,e){var r;if(o!==undefined&&""!==o||(o=e),"string"!=typeof o)throw new TypeError("Unexpected type '"+typeof o+"' in pluck operator, expected 'string'");r=i.length?s.__spread([o],i):o.split(".");var n=Object.getOwnPropertyDescriptor(t,e);delete t[e]&&Object.defineProperty(t,e,Object.assign({},n,{get:function(){var t=c.store;if(null===t)throw new Error("NgrxSelect not connected to store!");return t.pipe(u.pluck.apply(void 0,s.__spread(r)))}}))}},t.Select=function(n){for(var o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];return function(t,e){if("function"!=typeof n)throw new TypeError("Unexpected type '"+typeof n+"' in select operator, expected 'function'");var r=Object.getOwnPropertyDescriptor(t,e);delete t[e]&&Object.defineProperty(t,e,Object.assign({},r,{get:function(){var t=c.store;if(null===t)throw new Error("NgrxSelect not connected to store!");var e=t.select(n);return e.pipe.apply(e,s.__spread(o))}}))}},t.NgLetContext=p,t.NgLetDirective=l,t.NgLetModule=f,t.RouterLinkMatch=y,t.RouterLinkMatchModule=g,t.untilDestroy=d,t.ɵdestroy$=h,t.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u.pluck.apply(void 0,s.__spread(t))},t.invalidPipeArgumentError=_,t.PushPipe=m,t.PushPipeModule=w,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngrx-utils-store.umd.min.js.map
