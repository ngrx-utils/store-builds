!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ngrx/store"),require("rxjs/operators/pluck"),require("rxjs/Observable"),require("rxjs/operators/takeUntil"),require("@angular/router"),require("rxjs/operators/filter"),require("rxjs/operators/combineLatest"),require("rxjs/Subject")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@ngrx/store","rxjs/operators/pluck","rxjs/Observable","rxjs/operators/takeUntil","@angular/router","rxjs/operators/filter","rxjs/operators/combineLatest","rxjs/Subject"],t):t((e["ngrx-utils"]=e["ngrx-utils"]||{},e["ngrx-utils"].store={}),e.ng.core,e.ngrx.store,e.Rx.Observable.prototype,e.Rx,e.Rx.Observable.prototype,e.ng.router,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx)}(this,function(e,t,r,c,o,n,i,a,u,p){"use strict";function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)c.push(o.value)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(n)throw n.error}}return c}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var f=function(){function t(){}return t.prototype.connect=function(e){t.store=e},t}();f.store=undefined,f.decorators=[{type:t.Injectable}],f.ctorParameters=function(){return[]};var y=function(e,t,r){if(r)throw new Error("Only import NgrxSelectModule to top level module like AppModule");e.connect(t)};y.decorators=[{type:t.NgModule,args:[{providers:[f]}]}],y.ctorParameters=function(){return[{type:f},{type:r.Store},{type:y,decorators:[{type:t.SkipSelf},{type:t.Optional}]}]};var d=function(e){if(e)throw new Error("Only import NgrxUtilsModule to top level module like AppModule")};function g(t,e){e.forEach(function(e){if("object"!=typeof e||"object"==typeof e&&!("type"in e))throw new TypeError("Unexpected action in method return type, expected object of type 'Action'");t.dispatch(e)})}d.decorators=[{type:t.NgModule,args:[{exports:[y]}]}],d.ctorParameters=function(){return[{type:d,decorators:[{type:t.SkipSelf},{type:t.Optional}]}]};var v=function(){this.$implicit=null,this.ngLet=null},h=function(){function e(e,t){this._context=new v,e.createEmbeddedView(t,this._context)}return Object.defineProperty(e.prototype,"ngLet",{set:function(e){this._context.$implicit=this._context.ngLet=e},enumerable:!0,configurable:!0}),e}();h.decorators=[{type:t.Directive,args:[{selector:"[ngLet]"}]}],h.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.TemplateRef}]},h.propDecorators={ngLet:[{type:t.Input}]};var x=function(){};x.decorators=[{type:t.NgModule,args:[{declarations:[h],exports:[h]}]}],x.ctorParameters=function(){return[]};var b=Symbol("destroy$"),m=function(e){var r;return e[b]===undefined&&((r=e)[b]=new o.Observable(function(e){var t=r.ngOnDestroy;if(!t)throw new Error("untilDestroy operator needs the component to have an ngOnDestroy method");return r.ngOnDestroy=function(){e.next(),e.complete(),t.call(r)},function(e){return r[b]=undefined}})),n.takeUntil(e[b])};var w=function(){function e(e,t,r){var o=this;this._renderer=t,this._ngEl=r,this._curRoute="",this._matchExp={},this._onChangesHook=new p.Subject,e.events.pipe(a.filter(function(e){return e instanceof i.NavigationEnd}),u.combineLatest(this._onChangesHook),m(this)).subscribe(function(e){var t=s(e,1)[0];o._curRoute=t.urlAfterRedirects,o._updateClass(o._matchExp)})}return Object.defineProperty(e.prototype,"routerLinkActiveMatch",{set:function(e){if(!e||"object"!=typeof e)throw new TypeError("Unexpected type '"+typeof e+"' of value for input of routerLinkActiveMatch directive, expected 'object'");this._matchExp=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.routerLinkActiveMatch&&this._onChangesHook.next(e.routerLinkActiveMatch.currentValue)},e.prototype._updateClass=function(r){var o=this;Object.keys(r).forEach(function(e){if(!r[e]||"string"!=typeof r[e])throw new TypeError("Could not convert match value to Regular Expression. Unexpected type '"+typeof r[e]+"' for value of key '"+e+"' in routerLinkActiveMatch directive match expression, expected 'non-empty string'");var t=new RegExp(r[e]);o._curRoute.match(t)?o._toggleClass(e,!0):o._toggleClass(e,!1)})},e.prototype._toggleClass=function(e,t){var r=this;(e=e.trim()).split(/\s+/g).forEach(function(e){t?r._renderer.addClass(r._ngEl.nativeElement,e):r._renderer.removeClass(r._ngEl.nativeElement,e)})},e.prototype.ngOnDestroy=function(){},e}();w.decorators=[{type:t.Directive,args:[{selector:"[routerLinkActiveMatch]"}]}],w.ctorParameters=function(){return[{type:i.Router},{type:t.Renderer2},{type:t.ElementRef}]},w.propDecorators={routerLinkActiveMatch:[{type:t.Input,args:["routerLinkActiveMatch"]}]};var j=function(){};j.decorators=[{type:t.NgModule,args:[{declarations:[w],exports:[w]}]}],j.ctorParameters=function(){return[]},e.NgrxSelectModule=y,e.NgrxUtilsModule=d,e.Pluck=function(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];return function(e,t){var r;if(n||(n=t),"string"!=typeof n)throw new TypeError("Unexpected type '"+typeof n+"' in pluck operator, expected 'string'");r=i.length?l([n],i):n.split(".");var o=Object.getOwnPropertyDescriptor(e,t);delete e[t]&&Object.defineProperty(e,t,Object.assign({},o,{get:function(){var e=f.store;if(!e)throw new Error("NgrxSelect not connected to store!");return e.pipe(c.pluck.apply(void 0,l(r)))}}))}},e.Select=function(o){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(e,t){if("function"!=typeof o)throw new TypeError("Unexpected type '"+typeof o+"' in select operator, expected 'function'");var r=Object.getOwnPropertyDescriptor(e,t);delete e[t]&&Object.defineProperty(e,t,Object.assign({},r,{get:function(){var e=f.store;if(!e)throw new Error("NgrxSelect not connected to store!");var t=e.select(o);return t.pipe.apply(t,n)}}))}},e.Dispatch=function(){return function(e,t,r){var n=r.value;if("function"!=typeof n)throw new TypeError("Unexpected type "+typeof n+" of property "+t+", expected 'function'");return r.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=f.store;if(!r)throw new Error("NgrxSelect not connected to store!");var o=n.apply(this,e);return Array.isArray(o)?g(r,o):g(r,[o]),o},r}},e.NgLetDirective=h,e.NgLetModule=x,e.RouterLinkActiveMatchModule=j,e.RouterLinkActiveMatch=w,e.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.pluck.apply(void 0,l(e))},e.untilDestroy=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngrx-utils-store.umd.min.js.map
