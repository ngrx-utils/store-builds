!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ngrx/store"),require("rxjs/operators"),require("rxjs"),require("@angular/router")):"function"==typeof define&&define.amd?define("@ngrx-utils/store",["exports","@angular/core","@ngrx/store","rxjs/operators","rxjs","@angular/router"],t):t((e["ngrx-utils"]=e["ngrx-utils"]||{},e["ngrx-utils"].store={}),e.ng.core,e.ngrx.store,e.Rx.Observable.prototype,e.rxjs,e.ng.router)}(this,function(e,t,r,u,o,i){"use strict";function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return u}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var a=function(){function t(){}return t.prototype.connect=function(e){t.store=e},t}();a.store=undefined,a.decorators=[{type:t.Injectable}];var n=function(e,t,r){if(r)throw new Error("Only import NgrxSelectModule to top level module like AppModule");e.connect(t)};function p(t,e){e.forEach(function(e){if("object"!=typeof e||"object"==typeof e&&!("type"in e))throw new TypeError("Unexpected action in method return type, expected object of type 'Action'");t.dispatch(e)})}n.decorators=[{type:t.NgModule,args:[{providers:[a]}]}],n.ctorParameters=function(){return[{type:a},{type:r.Store},{type:n,decorators:[{type:t.SkipSelf},{type:t.Optional}]}]};var l=function(){this.$implicit=null,this.ngLet=null},f=function(){function e(e,t){this._context=new l,e.createEmbeddedView(t,this._context)}return Object.defineProperty(e.prototype,"ngLet",{set:function(e){this._context.$implicit=this._context.ngLet=e},enumerable:!0,configurable:!0}),e}();f.decorators=[{type:t.Directive,args:[{selector:"[ngLet]"}]}],f.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.TemplateRef}]},f.propDecorators={ngLet:[{type:t.Input}]};var h=function(){};h.decorators=[{type:t.NgModule,args:[{declarations:[f],exports:[f]}]}];var d=Symbol("destroy$"),y=function(e){var r;return e[d]===undefined&&((r=e)[d]=new o.Observable(function(e){var t=r.ngOnDestroy;if(null==t)throw new Error("untilDestroy operator needs the component to have an ngOnDestroy method");return r.ngOnDestroy=function(){e.next(),e.complete(),t.call(r)},function(e){return r[d]=undefined}})),u.takeUntil(e[d])};var g=function(){function e(e,t,r){var n=this;this._renderer=t,this._ngEl=r,this._onChangesHook=new o.Subject,o.combineLatest(e.events,this._onChangesHook).pipe(u.map(function(e){return s(e,1)[0]}),u.filter(function(e){return e instanceof i.NavigationEnd}),y(this)).subscribe(function(e){n._curRoute=e.urlAfterRedirects,n._updateClass(n._matchExp)})}return Object.defineProperty(e.prototype,"routerLinkActiveMatch",{set:function(e){if(!e||"object"!=typeof e)throw new TypeError("Unexpected type '"+typeof e+"' of value for input of routerLinkActiveMatch directive, expected 'object'");this._matchExp=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.routerLinkActiveMatch&&this._onChangesHook.next(e.routerLinkActiveMatch.currentValue)},e.prototype._updateClass=function(r){var n=this;Object.keys(r).forEach(function(e){if(!r[e]||"string"!=typeof r[e])throw new TypeError("Could not convert match value to Regular Expression. Unexpected type '"+typeof r[e]+"' for value of key '"+e+"' in routerLinkActiveMatch directive match expression, expected 'non-empty string'");var t=new RegExp(r[e]);n._curRoute.match(t)?n._toggleClass(e,!0):n._toggleClass(e,!1)})},e.prototype._toggleClass=function(e,t){var r=this;(e=e.trim()).split(/\s+/g).forEach(function(e){t?r._renderer.addClass(r._ngEl.nativeElement,e):r._renderer.removeClass(r._ngEl.nativeElement,e)})},e.prototype.ngOnDestroy=function(){},e}();g.decorators=[{type:t.Directive,args:[{selector:"[routerLinkActiveMatch]"}]}],g.ctorParameters=function(){return[{type:i.Router},{type:t.Renderer2},{type:t.ElementRef}]},g.propDecorators={routerLinkActiveMatch:[{type:t.Input,args:["routerLinkActiveMatch"]}]};var v=function(){};v.decorators=[{type:t.NgModule,args:[{declarations:[g],exports:[g]}]}];var _=new(function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(e){throw e}})},e.prototype.dispose=function(e){e.unsubscribe()},e.prototype.onDestroy=function(e){e.unsubscribe()},e}()),b=function(){function e(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=_}return e.prototype.transform=function(e){return null===this._obj?(null!=e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue):e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,t.WrappedValue.wrap(this._latestValue))},e.prototype.ngOnDestroy=function(){null!==this._subscription&&this._dispose()},e.prototype._subscribe=function(t){var r=this;this._obj=t,this._subscription=this._strategy.createSubscription(t,function(e){return r._updateLatestValue(t,e)})},e.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},e.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.detectChanges())},e}();b.decorators=[{type:t.Pipe,args:[{name:"push",pure:!1}]}],b.ctorParameters=function(){return[{type:t.ChangeDetectorRef}]};var x=function(){};x.decorators=[{type:t.NgModule,args:[{exports:[b],declarations:[b]}]}],e.NgrxSelectModule=n,e.ɵNgrxSelect=a,e.Pluck=function(o){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];return function(e,t){var r;if(o!==undefined&&""!==o||(o=t),"string"!=typeof o)throw new TypeError("Unexpected type '"+typeof o+"' in pluck operator, expected 'string'");r=i.length?c([o],i):o.split(".");var n=Object.getOwnPropertyDescriptor(e,t);delete e[t]&&Object.defineProperty(e,t,Object.assign({},n,{get:function(){var e=a.store;if(e===undefined)throw new Error("NgrxSelect not connected to store!");return e.pipe(u.pluck.apply(void 0,c(r)))}}))}},e.Select=function(n){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(e,t){if("function"!=typeof n)throw new TypeError("Unexpected type '"+typeof n+"' in select operator, expected 'function'");var r=Object.getOwnPropertyDescriptor(e,t);delete e[t]&&Object.defineProperty(e,t,Object.assign({},r,{get:function(){var e=a.store;if(!e)throw new Error("NgrxSelect not connected to store!");var t=e.select(n);return t.pipe.apply(t,c(o))}}))}},e.Dispatch=function(){return function(e,t,r){var o=r.value;if("function"!=typeof o)throw new TypeError("Unexpected type "+typeof o+" of property "+t+", expected 'function'");return r.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.store;if(!r)throw new Error("NgrxSelect not connected to store!");var n=o.apply(this,e);return Array.isArray(n)?p(r,n):p(r,[n]),n},r}},e.NgLetDirective=f,e.NgLetModule=h,e.RouterLinkActiveMatchModule=v,e.RouterLinkActiveMatch=g,e.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.pluck.apply(void 0,c(e))},e.untilDestroy=y,e.ɵdestroy$=d,e.PushPipe=b,e.PushPipeModule=x,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngrx-utils-store.umd.min.js.map
