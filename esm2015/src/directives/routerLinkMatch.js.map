{
  "version": 3,
  "file": "routerLinkMatch.js",
  "sources": [
    "ng://@ngrx-utils/store/projects/store/src/directives/routerLinkMatch.ts"
  ],
  "sourcesContent": [
    "import {\n  Directive,\n  ElementRef,\n  Input,\n  NgModule,\n  OnChanges,\n  OnDestroy,\n  Renderer2,\n  SimpleChanges\n} from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { combineLatest, Subject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { untilDestroy } from '../operators';\n\nexport interface MatchExp {\n  [classes: string]: string;\n}\n\n@Directive({\n  selector: '[routerLinkMatch]'\n})\nexport class RouterLinkMatch implements OnDestroy, OnChanges {\n  private _curRoute: string;\n  private _matchExp: MatchExp;\n  private _onChangesHook = new Subject<MatchExp>();\n\n  @Input('routerLinkMatch')\n  set routerLinkMatch(v: MatchExp) {\n    if (v && typeof v === 'object') {\n      this._matchExp = v;\n    } else {\n      throw new TypeError(\n        `Unexpected type '${typeof v}' of value for ` +\n          `input of routerLinkMatch directive, expected 'object'`\n      );\n    }\n  }\n\n  constructor(router: Router, private _renderer: Renderer2, private _ngEl: ElementRef) {\n    combineLatest(router.events, this._onChangesHook)\n      .pipe(map(([e]) => e), filter(e => e instanceof NavigationEnd), untilDestroy(this))\n      .subscribe(e => {\n        this._curRoute = (e as NavigationEnd).urlAfterRedirects;\n\n        this._updateClass(this._matchExp);\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['routerLinkMatch']) {\n      this._onChangesHook.next(changes['routerLinkMatch'].currentValue);\n    }\n  }\n\n  private _updateClass(v: MatchExp): void {\n    Object.keys(v).forEach(cls => {\n      if (v[cls] && typeof v[cls] === 'string') {\n        const regexp = new RegExp(v[cls]);\n        if (this._curRoute.match(regexp)) {\n          this._toggleClass(cls, true);\n        } else {\n          this._toggleClass(cls, false);\n        }\n      } else {\n        throw new TypeError(\n          `Could not convert match value to Regular Expression. ` +\n            `Unexpected type '${typeof v[cls]}' for value of key '${cls}' ` +\n            `in routerLinkMatch directive match expression, expected 'non-empty string'`\n        );\n      }\n    });\n  }\n\n  private _toggleClass(classes: string, enabled: boolean): void {\n    classes = classes.trim();\n\n    classes.split(/\\s+/g).forEach(cls => {\n      if (enabled) {\n        this._renderer.addClass(this._ngEl.nativeElement, cls);\n      } else {\n        this._renderer.removeClass(this._ngEl.nativeElement, cls);\n      }\n    });\n  }\n\n  ngOnDestroy() {}\n}\n\n@NgModule({\n  declarations: [RouterLinkMatch],\n  exports: [RouterLinkMatch]\n})\nexport class RouterLinkMatchModule {}\n"
  ],
  "names": [],
  "mappings": "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"
}
