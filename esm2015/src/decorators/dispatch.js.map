{
  "version": 3,
  "file": "dispatch.js",
  "sources": [
    "ng://@ngrx-utils/store/projects/store/src/decorators/dispatch.ts"
  ],
  "sourcesContent": [
    "import { Action, Store } from '@ngrx/store';\n\nimport { NgrxSelect } from './ngrx-select';\n\n/**\n * @whatItDoes Dispatch method returned action.\n * @howToUse `@Dispatch() componentMethod() { return new Action() }`\n */\nexport function Dispatch() {\n  return function(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n    const originalMethod = descriptor.value as Function;\n\n    if (typeof originalMethod !== 'function') {\n      throw new TypeError(\n        `Unexpected type ${typeof originalMethod} of property ${propertyKey}, ` +\n          `expected 'function'`\n      );\n    }\n\n    // editing the descriptor/value parameter\n    descriptor.value = function(...args: any[]) {\n      const source$ = NgrxSelect.store;\n      if (source$ === null) {\n        throw new Error('NgrxSelect not connected to store!');\n      }\n      // note usage of originalMethod here\n      const actions = originalMethod.apply(this, args);\n\n      if (Array.isArray(actions)) {\n        dispatch(source$, actions);\n      } else {\n        dispatch(source$, [actions]);\n      }\n      return actions;\n    };\n\n    // return edited descriptor as opposed to overwriting the descriptor\n    return descriptor;\n  };\n}\n\nexport function dispatch<T extends Action = Action>(source$: Store<any>, actions: T[]) {\n  actions.forEach(action => {\n    if (typeof action !== 'object' || (typeof action === 'object' && !('type' in action))) {\n      throw new TypeError(\n        `Unexpected action in method return type, expected object of type 'Action'`\n      );\n    }\n    source$.dispatch(action);\n  });\n}\n"
  ],
  "names": [],
  "mappings": ";;;;AAEA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;;;;;;AAM3C,MAAM;IACJ,MAAM,CAAC,UAAS,MAAW,EAAE,WAAmB,EAAE,UAA8B;QAC9E,uBAAM,cAAc,qBAAG,UAAU,CAAC,KAAiB,CAAA,CAAC;QAEpD,EAAE,CAAC,CAAC,OAAO,cAAc,KAAK,UAAU,CAAC,CAAC,CAAC;YACzC,MAAM,IAAI,SAAS,CACjB,mBAAmB,OAAO,cAAc,gBAAgB,WAAW,IAAI;gBACrE,qBAAqB,CACxB,CAAC;SACH;;QAGD,UAAU,CAAC,KAAK,GAAG,UAAS,GAAG,IAAW;YACxC,uBAAM,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC;YACjC,EAAE,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC;gBACrB,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;aACvD;;YAED,uBAAM,OAAO,GAAG,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAEjD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC3B,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aAC5B;YAAC,IAAI,CAAC,CAAC;gBACN,QAAQ,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;aAC9B;YACD,MAAM,CAAC,OAAO,CAAC;SAChB,CAAC;;QAGF,MAAM,CAAC,UAAU,CAAC;KACnB,CAAC;CACH;;;;;;;AAED,MAAM,mBAA8C,OAAmB,EAAE,OAAY;IACnF,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;QACvB,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,QAAQ,IAAI,CAAC,OAAO,MAAM,KAAK,QAAQ,IAAI,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACtF,MAAM,IAAI,SAAS,CACjB,2EAA2E,CAC5E,CAAC;SACH;QACD,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KAC1B,CAAC,CAAC;CACJ"
}
